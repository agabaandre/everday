{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{\"4/Id\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__);var core=__webpack_require__(\"8Y7J\"),tslib_es6=__webpack_require__(\"mrSG\"),loading_service=__webpack_require__(\"KTio\"),config_service=__webpack_require__(\"sf9b\"),shared_data_service=__webpack_require__(\"UmVP\"),scratch_card_page=__webpack_require__(\"OMjV\"),app_events_service=__webpack_require__(\"sMtR\");class notifications_page_NotificationsPage{constructor(navCtrl,shared,config,http,loading,applicationRef,popoverCtrl,appEventsService){this.navCtrl=navCtrl,this.shared=shared,this.config=config,this.http=http,this.loading=loading,this.applicationRef=applicationRef,this.popoverCtrl=popoverCtrl,this.appEventsService=appEventsService,this.page=1,this.notifications=new Array,this.httpRunning=!0,this.httpRunning=!0,this.getNotifications();let cardScratched=this.appEventsService.subscribe(\"cardScratched\");cardScratched.subscriptions.add(cardScratched.event.subscribe(data=>{this.updateList(data)}))}getNotifications(){this.httpRunning=!0,this.loading.show(),this.http.get(this.config.url+\"/api/appusers/ionic_coupon_notification/?insecure=cool&user_id=\"+this.shared.customerData.id).subscribe(data=>{this.httpRunning=!1,this.loading.hide();let dat=data.data;if(1==this.page&&(this.notifications=new Array),0!=dat.length){this.page++;for(let value of dat)this.notifications.push(value)}this.infinite.disabled=!0,0==dat.length&&(this.infinite.disabled=!0),this.applicationRef.tick(),console.log(dat)})}openScratchCard(v){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){const popoverElement=yield this.popoverCtrl.create({component:scratch_card_page.a,event:event,componentProps:{data:v}});return yield popoverElement.present()}))}refreshPage(){this.page=1,this.getNotifications()}openShop(){this.navCtrl.navigateForward(\"tabs/\"+this.config.getCurrentHomePage())}ionViewDidLoad(){}updateList(data){for(let v of this.notifications)v.id==data.id&&(v.is_view=1,this.shared.toast(\"Congratulations you Get \"+v.message+\" use this code : \"+v.code),this.http.get(this.config.url+\"/api/appusers/ionic_notification_update/?insecure=cool&notification_id=\"+v.id).subscribe(data=>{console.log(data)}))}ngOnInit(){}}class NotificationsPageModule{}var router_ngfactory=__webpack_require__(\"pMnS\"),ionic_angular_ngfactory=__webpack_require__(\"MKJQ\"),ionic_angular=__webpack_require__(\"sZkV\"),common=__webpack_require__(\"SVse\"),translate_app_pipe=__webpack_require__(\"taci\"),http=__webpack_require__(\"IheW\"),RenderType_NotificationsPage=core.nb({encapsulation:0,styles:[[\"ion-content[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]{margin-top:50%}ion-content[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{text-align:center}ion-content[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{zoom:3.9;color:#d3d3d3}ion-content[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--background:var(--ion-color-primary);--border-radius:0px;height:30px}ion-content[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:16px;font-weight:700;margin-top:2px}ion-content[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:14px;color:gray;margin-top:0}.note[_ngcontent-%COMP%]{color:red;width:80px;text-align:center}ion-list[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-list[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-secondary)}.pop[_ngcontent-%COMP%]{width:100%;height:100%}.popover-md[_ngcontent-%COMP%]   .popover-content[_ngcontent-%COMP%]{width:400px!important;height:100px}\"]],data:{}});function View_NotificationsPage_1(_l){return core.Kb(0,[(_l()(),core.pb(0,0,null,null,3,\"ion-menu-button\",[[\"slot\",\"start\"]],null,null,null,ionic_angular_ngfactory.Kb,ionic_angular_ngfactory.F)),core.ob(1,49152,null,0,ionic_angular.S,[core.h,core.k,core.x],null,null),(_l()(),core.pb(2,0,null,0,1,\"ion-icon\",[[\"name\",\"menu\"]],null,null,null,ionic_angular_ngfactory.zb,ionic_angular_ngfactory.t)),core.ob(3,49152,null,0,ionic_angular.D,[core.h,core.k,core.x],{name:[0,\"name\"]},null)],(function(_ck,_v){_ck(_v,3,0,\"menu\")}),null)}function View_NotificationsPage_2(_l){return core.Kb(0,[(_l()(),core.pb(0,0,null,null,29,\"ion-grid\",[[\"class\",\"ion-no-padding\"]],null,null,null,ionic_angular_ngfactory.xb,ionic_angular_ngfactory.r)),core.ob(1,49152,null,0,ionic_angular.B,[core.h,core.k,core.x],null,null),(_l()(),core.pb(2,0,null,0,5,\"ion-row\",[[\"class\",\"ion-no-padding\"]],null,null,null,ionic_angular_ngfactory.Sb,ionic_angular_ngfactory.M)),core.ob(3,49152,null,0,ionic_angular.hb,[core.h,core.k,core.x],null,null),(_l()(),core.pb(4,0,null,0,3,\"ion-col\",[[\"class\",\"ion-no-padding\"],[\"size\",\"12\"]],null,null,null,ionic_angular_ngfactory.sb,ionic_angular_ngfactory.m)),core.ob(5,49152,null,0,ionic_angular.u,[core.h,core.k,core.x],{size:[0,\"size\"]},null),(_l()(),core.pb(6,0,null,0,1,\"ion-icon\",[[\"name\",\"notifications\"]],null,null,null,ionic_angular_ngfactory.zb,ionic_angular_ngfactory.t)),core.ob(7,49152,null,0,ionic_angular.D,[core.h,core.k,core.x],{name:[0,\"name\"]},null),(_l()(),core.pb(8,0,null,0,6,\"ion-row\",[[\"class\",\"ion-no-padding\"]],null,null,null,ionic_angular_ngfactory.Sb,ionic_angular_ngfactory.M)),core.ob(9,49152,null,0,ionic_angular.hb,[core.h,core.k,core.x],null,null),(_l()(),core.pb(10,0,null,0,4,\"ion-col\",[[\"class\",\"ion-no-padding\"],[\"size\",\"12\"]],null,null,null,ionic_angular_ngfactory.sb,ionic_angular_ngfactory.m)),core.ob(11,49152,null,0,ionic_angular.u,[core.h,core.k,core.x],{size:[0,\"size\"]},null),(_l()(),core.pb(12,0,null,0,2,\"h4\",[],null,null,null,null,null)),(_l()(),core.Ib(13,null,[\"\",\"\"])),core.Eb(14,1),(_l()(),core.pb(15,0,null,0,6,\"ion-row\",[[\"class\",\"ion-no-padding\"]],null,null,null,ionic_angular_ngfactory.Sb,ionic_angular_ngfactory.M)),core.ob(16,49152,null,0,ionic_angular.hb,[core.h,core.k,core.x],null,null),(_l()(),core.pb(17,0,null,0,4,\"ion-col\",[[\"class\",\"ion-no-padding\"],[\"size\",\"12\"]],null,null,null,ionic_angular_ngfactory.sb,ionic_angular_ngfactory.m)),core.ob(18,49152,null,0,ionic_angular.u,[core.h,core.k,core.x],{size:[0,\"size\"]},null),(_l()(),core.pb(19,0,null,0,2,\"h5\",[],null,null,null,null,null)),(_l()(),core.Ib(20,null,[\"\",\"\"])),core.Eb(21,1),(_l()(),core.pb(22,0,null,0,7,\"ion-row\",[[\"class\",\"ion-no-padding\"]],null,null,null,ionic_angular_ngfactory.Sb,ionic_angular_ngfactory.M)),core.ob(23,49152,null,0,ionic_angular.hb,[core.h,core.k,core.x],null,null),(_l()(),core.pb(24,0,null,0,5,\"ion-col\",[[\"class\",\"ion-no-padding\"],[\"size\",\"12\"]],null,null,null,ionic_angular_ngfactory.sb,ionic_angular_ngfactory.m)),core.ob(25,49152,null,0,ionic_angular.u,[core.h,core.k,core.x],{size:[0,\"size\"]},null),(_l()(),core.pb(26,0,null,0,3,\"ion-button\",[[\"color\",\"secondary\"]],null,[[null,\"click\"]],(function(_v,en,$event){var ad=!0;return\"click\"===en&&(ad=!1!==_v.component.openShop()&&ad),ad}),ionic_angular_ngfactory.kb,ionic_angular_ngfactory.e)),core.ob(27,49152,null,0,ionic_angular.l,[core.h,core.k,core.x],{color:[0,\"color\"]},null),(_l()(),core.Ib(28,0,[\"\",\"\"])),core.Eb(29,1)],(function(_ck,_v){_ck(_v,5,0,\"12\"),_ck(_v,7,0,\"notifications\"),_ck(_v,11,0,\"12\"),_ck(_v,18,0,\"12\"),_ck(_v,25,0,\"12\"),_ck(_v,27,0,\"secondary\")}),(function(_ck,_v){var currVal_3=core.Jb(_v,13,0,_ck(_v,14,0,core.Bb(_v.parent,0),\"Your Scratch Cards Coupon List is Empty\"));_ck(_v,13,0,currVal_3);var currVal_5=core.Jb(_v,20,0,_ck(_v,21,0,core.Bb(_v.parent,0),\"continue shopping\"));_ck(_v,20,0,currVal_5);var currVal_8=core.Jb(_v,28,0,_ck(_v,29,0,core.Bb(_v.parent,0),\"Explore\"));_ck(_v,28,0,currVal_8)}))}function View_NotificationsPage_6(_l){return core.Kb(0,[(_l()(),core.pb(0,0,null,null,3,\"ion-button\",[[\"color\",\"secondary\"],[\"ion-button\",\"\"]],null,[[null,\"click\"]],(function(_v,en,$event){var ad=!0;return\"click\"===en&&(ad=!1!==_v.component.openScratchCard(_v.parent.parent.context.$implicit)&&ad),ad}),ionic_angular_ngfactory.kb,ionic_angular_ngfactory.e)),core.ob(1,49152,null,0,ionic_angular.l,[core.h,core.k,core.x],{color:[0,\"color\"]},null),(_l()(),core.Ib(2,0,[\" \",\" \"])),core.Eb(3,1)],(function(_ck,_v){_ck(_v,1,0,\"secondary\")}),(function(_ck,_v){var currVal_1=core.Jb(_v,2,0,_ck(_v,3,0,core.Bb(_v.parent.parent.parent.parent,0),\"Open Scratch Card\"));_ck(_v,2,0,currVal_1)}))}function View_NotificationsPage_7(_l){return core.Kb(0,[(_l()(),core.pb(0,0,null,null,2,\"h2\",[],null,null,null,null,null)),(_l()(),core.Ib(1,null,[\"\",\": \",\"\"])),core.Eb(2,1)],null,(function(_ck,_v){var currVal_0=core.Jb(_v,1,0,_ck(_v,2,0,core.Bb(_v.parent.parent.parent.parent,0),\"Code\"));_ck(_v,1,0,currVal_0,_v.parent.parent.context.$implicit.code)}))}function View_NotificationsPage_8(_l){return core.Kb(0,[(_l()(),core.pb(0,0,null,null,1,\"h3\",[],null,null,null,null,null)),(_l()(),core.Ib(1,null,[\"\",\"\"]))],null,(function(_ck,_v){_ck(_v,1,0,_v.parent.parent.context.$implicit.message)}))}function View_NotificationsPage_5(_l){return core.Kb(0,[(_l()(),core.pb(0,0,null,null,17,\"ion-item\",[],null,null,null,ionic_angular_ngfactory.Gb,ionic_angular_ngfactory.y)),core.ob(1,49152,null,0,ionic_angular.I,[core.h,core.k,core.x],null,null),(_l()(),core.pb(2,0,null,0,1,\"ion-icon\",[[\"name\",\"notifications\"],[\"slot\",\"start\"]],null,null,null,ionic_angular_ngfactory.zb,ionic_angular_ngfactory.t)),core.ob(3,49152,null,0,ionic_angular.D,[core.h,core.k,core.x],{name:[0,\"name\"]},null),(_l()(),core.eb(16777216,null,0,1,null,View_NotificationsPage_6)),core.ob(5,16384,null,0,common.k,[core.M,core.J],{ngIf:[0,\"ngIf\"]},null),(_l()(),core.pb(6,0,null,0,5,\"ion-label\",[],null,null,null,ionic_angular_ngfactory.Hb,ionic_angular_ngfactory.B)),core.ob(7,49152,null,0,ionic_angular.O,[core.h,core.k,core.x],null,null),(_l()(),core.eb(16777216,null,0,1,null,View_NotificationsPage_7)),core.ob(9,16384,null,0,common.k,[core.M,core.J],{ngIf:[0,\"ngIf\"]},null),(_l()(),core.eb(16777216,null,0,1,null,View_NotificationsPage_8)),core.ob(11,16384,null,0,common.k,[core.M,core.J],{ngIf:[0,\"ngIf\"]},null),(_l()(),core.pb(12,0,null,0,5,\"ion-note\",[[\"class\",\"note\"],[\"slot\",\"end\"]],null,null,null,ionic_angular_ngfactory.Mb,ionic_angular_ngfactory.G)),core.ob(13,49152,null,0,ionic_angular.W,[core.h,core.k,core.x],null,null),(_l()(),core.Ib(14,0,[\"\",\" \"])),core.Eb(15,1),(_l()(),core.pb(16,0,null,0,1,\"small\",[],null,null,null,null,null)),(_l()(),core.Ib(17,null,[\"\",\"\"]))],(function(_ck,_v){_ck(_v,3,0,\"notifications\"),_ck(_v,5,0,0==_v.parent.context.$implicit.is_view),_ck(_v,9,0,1==_v.parent.context.$implicit.is_view),_ck(_v,11,0,1==_v.parent.context.$implicit.is_view)}),(function(_ck,_v){var currVal_4=core.Jb(_v,14,0,_ck(_v,15,0,core.Bb(_v.parent.parent.parent,0),\"Expiry Date\"));_ck(_v,14,0,currVal_4),_ck(_v,17,0,_v.parent.context.$implicit.expire_date)}))}function View_NotificationsPage_4(_l){return core.Kb(0,[(_l()(),core.pb(0,0,null,null,2,\"div\",[],null,null,null,null,null)),(_l()(),core.eb(16777216,null,null,1,null,View_NotificationsPage_5)),core.ob(2,16384,null,0,common.k,[core.M,core.J],{ngIf:[0,\"ngIf\"]},null)],(function(_ck,_v){_ck(_v,2,0,\"1\"==_v.context.$implicit.type)}),null)}function View_NotificationsPage_3(_l){return core.Kb(0,[(_l()(),core.pb(0,0,null,null,3,\"ion-list\",[],null,null,null,ionic_angular_ngfactory.Jb,ionic_angular_ngfactory.C)),core.ob(1,49152,null,0,ionic_angular.P,[core.h,core.k,core.x],null,null),(_l()(),core.eb(16777216,null,0,1,null,View_NotificationsPage_4)),core.ob(3,278528,null,0,common.j,[core.M,core.J,core.q],{ngForOf:[0,\"ngForOf\"]},null)],(function(_ck,_v){_ck(_v,3,0,_v.component.notifications)}),null)}function View_NotificationsPage_0(_l){return core.Kb(0,[core.Db(0,translate_app_pipe.a,[shared_data_service.a]),core.Gb(671088640,1,{infinite:0}),(_l()(),core.pb(2,0,null,null,20,\"ion-header\",[],null,null,null,ionic_angular_ngfactory.yb,ionic_angular_ngfactory.s)),core.ob(3,49152,null,0,ionic_angular.C,[core.h,core.k,core.x],null,null),(_l()(),core.pb(4,0,null,0,18,\"ion-toolbar\",[],null,null,null,ionic_angular_ngfactory.lc,ionic_angular_ngfactory.fb)),core.ob(5,49152,null,0,ionic_angular.Ab,[core.h,core.k,core.x],null,null),(_l()(),core.eb(16777216,null,0,1,null,View_NotificationsPage_1)),core.ob(7,16384,null,0,common.k,[core.M,core.J],{ngIf:[0,\"ngIf\"]},null),(_l()(),core.pb(8,0,null,0,4,\"ion-buttons\",[[\"slot\",\"start\"]],null,null,null,ionic_angular_ngfactory.lb,ionic_angular_ngfactory.f)),core.ob(9,49152,null,0,ionic_angular.m,[core.h,core.k,core.x],null,null),(_l()(),core.pb(10,0,null,0,2,\"ion-back-button\",[[\"icon\",\"arrow-back\"]],null,[[null,\"click\"]],(function(_v,en,$event){var ad=!0;return\"click\"===en&&(ad=!1!==core.Bb(_v,12).onClick($event)&&ad),ad}),ionic_angular_ngfactory.ib,ionic_angular_ngfactory.c)),core.ob(11,49152,null,0,ionic_angular.h,[core.h,core.k,core.x],{icon:[0,\"icon\"]},null),core.ob(12,16384,null,0,ionic_angular.i,[[2,ionic_angular.gb],ionic_angular.Hb,ionic_angular.e],null,null),(_l()(),core.pb(13,0,null,0,3,\"ion-title\",[],null,null,null,ionic_angular_ngfactory.jc,ionic_angular_ngfactory.db)),core.ob(14,49152,null,0,ionic_angular.yb,[core.h,core.k,core.x],null,null),(_l()(),core.Ib(15,0,[\" \",\" \"])),core.Eb(16,1),(_l()(),core.pb(17,0,null,0,5,\"ion-buttons\",[[\"slot\",\"end\"]],null,null,null,ionic_angular_ngfactory.lb,ionic_angular_ngfactory.f)),core.ob(18,49152,null,0,ionic_angular.m,[core.h,core.k,core.x],null,null),(_l()(),core.pb(19,0,null,0,3,\"ion-button\",[[\"fill\",\"clear\"]],null,[[null,\"click\"]],(function(_v,en,$event){var ad=!0;return\"click\"===en&&(ad=!1!==_v.component.refreshPage()&&ad),ad}),ionic_angular_ngfactory.kb,ionic_angular_ngfactory.e)),core.ob(20,49152,null,0,ionic_angular.l,[core.h,core.k,core.x],{fill:[0,\"fill\"]},null),(_l()(),core.pb(21,0,null,0,1,\"ion-icon\",[[\"name\",\"refresh\"]],null,null,null,ionic_angular_ngfactory.zb,ionic_angular_ngfactory.t)),core.ob(22,49152,null,0,ionic_angular.D,[core.h,core.k,core.x],{name:[0,\"name\"]},null),(_l()(),core.pb(23,0,null,null,9,\"ion-content\",[],null,null,null,ionic_angular_ngfactory.tb,ionic_angular_ngfactory.n)),core.ob(24,49152,null,0,ionic_angular.v,[core.h,core.k,core.x],null,null),(_l()(),core.eb(16777216,null,0,1,null,View_NotificationsPage_2)),core.ob(26,16384,null,0,common.k,[core.M,core.J],{ngIf:[0,\"ngIf\"]},null),(_l()(),core.eb(16777216,null,0,1,null,View_NotificationsPage_3)),core.ob(28,16384,null,0,common.k,[core.M,core.J],{ngIf:[0,\"ngIf\"]},null),(_l()(),core.pb(29,0,null,0,3,\"ion-infinite-scroll\",[],null,[[null,\"ionInfinite\"]],(function(_v,en,$event){var ad=!0;return\"ionInfinite\"===en&&(ad=!1!==_v.component.getNotifications()&&ad),ad}),ionic_angular_ngfactory.Cb,ionic_angular_ngfactory.v)),core.ob(30,49152,[[1,4],[\"infinite\",4]],0,ionic_angular.F,[core.h,core.k,core.x],null,null),(_l()(),core.pb(31,0,null,0,1,\"ion-infinite-scroll-content\",[],null,null,null,ionic_angular_ngfactory.Bb,ionic_angular_ngfactory.w)),core.ob(32,49152,null,0,ionic_angular.G,[core.h,core.k,core.x],null,null)],(function(_ck,_v){var _co=_v.component;_ck(_v,7,0,!_co.config.appNavigationTabs),_ck(_v,11,0,\"arrow-back\"),_ck(_v,20,0,\"clear\"),_ck(_v,22,0,\"refresh\"),_ck(_v,26,0,0==_co.notifications.length&&0==_co.httpRunning),_ck(_v,28,0,0!=_co.notifications.length)}),(function(_ck,_v){var currVal_2=core.Jb(_v,15,0,_ck(_v,16,0,core.Bb(_v,0),\"Scratch Card\"));_ck(_v,15,0,currVal_2)}))}function View_NotificationsPage_Host_0(_l){return core.Kb(0,[(_l()(),core.pb(0,0,null,null,1,\"app-notifications\",[],null,null,null,View_NotificationsPage_0,RenderType_NotificationsPage)),core.ob(1,114688,null,0,notifications_page_NotificationsPage,[ionic_angular.Hb,shared_data_service.a,config_service.a,http.c,loading_service.a,core.g,ionic_angular.Kb,app_events_service.a],null,null)],(function(_ck,_v){_ck(_v,1,0)}),null)}var NotificationsPageNgFactory=core.lb(\"app-notifications\",notifications_page_NotificationsPage,View_NotificationsPage_Host_0,{},{},[]),fesm2015_forms=__webpack_require__(\"s7LF\"),router=__webpack_require__(\"iInd\"),pipes_module=__webpack_require__(\"wWlB\");__webpack_require__.d(__webpack_exports__,\"NotificationsPageModuleNgFactory\",(function(){return NotificationsPageModuleNgFactory}));var NotificationsPageModuleNgFactory=core.mb(NotificationsPageModule,[],(function(_l){return core.yb([core.zb(512,core.j,core.X,[[8,[router_ngfactory.a,NotificationsPageNgFactory]],[3,core.j],core.v]),core.zb(4608,common.m,common.l,[core.s,[2,common.v]]),core.zb(4608,fesm2015_forms.m,fesm2015_forms.m,[]),core.zb(4608,ionic_angular.c,ionic_angular.c,[core.x,core.g]),core.zb(4608,ionic_angular.Gb,ionic_angular.Gb,[ionic_angular.c,core.j,core.p]),core.zb(4608,ionic_angular.Kb,ionic_angular.Kb,[ionic_angular.c,core.j,core.p]),core.zb(1073742336,common.b,common.b,[]),core.zb(1073742336,fesm2015_forms.l,fesm2015_forms.l,[]),core.zb(1073742336,fesm2015_forms.c,fesm2015_forms.c,[]),core.zb(1073742336,ionic_angular.Cb,ionic_angular.Cb,[]),core.zb(1073742336,router.o,router.o,[[2,router.t],[2,router.m]]),core.zb(1073742336,pipes_module.a,pipes_module.a,[]),core.zb(1073742336,NotificationsPageModule,NotificationsPageModule,[]),core.zb(1024,router.k,(function(){return[[{path:\"\",component:notifications_page_NotificationsPage}]]}),[])])}))}}]);","extractedComments":[]}