{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{Vhdi:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__);var core=__webpack_require__(\"8Y7J\"),tslib_es6=__webpack_require__(\"mrSG\"),config_service=__webpack_require__(\"sf9b\"),loading_service=__webpack_require__(\"KTio\"),shared_data_service=__webpack_require__(\"UmVP\"),login_page=__webpack_require__(\"pHsZ\");class reviews_page_ReviewsPage{constructor(navCtrl,activatedRoute,applicationRef,config,modalCtrl,loading,shared){this.navCtrl=navCtrl,this.activatedRoute=activatedRoute,this.applicationRef=applicationRef,this.config=config,this.modalCtrl=modalCtrl,this.loading=loading,this.shared=shared,this.reviews=[],this.r1=null,this.r2=null,this.r3=null,this.r4=null,this.r5=null,this.id=this.activatedRoute.snapshot.paramMap.get(\"id\"),this.getProductReviews()}getProductReviews(){this.loading.show(),this.config.getWoo(\"products/reviews/?\"+this.config.productsArguments+\"&product=\"+[this.id]).then(data=>{this.reviews=data,this.applicationRef.tick();let total=0;for(let value of this.reviews)total+=value.rating;this.average=total/this.reviews.length,0==this.reviews.length&&(this.average=0),this.calculateAll(),this.applicationRef.tick(),this.loading.hide()})}openReviewsPage(){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){if(null==this.shared.customerData.id||null==this.shared.customerData.id){let modal=yield this.modalCtrl.create({component:login_page.a,componentProps:{hideGuestLogin:!1}});return yield modal.present()}this.navCtrl.navigateForward(this.config.currentRoute+\"/add-review/\"+this.id)}))}totalRating(){let total=0;for(let value of this.reviews)total+=value.rating;let result=total;return 0==total&&(result=0),result}calculateAll(){let r1=0,r2=0,r3=0,r4=0,r5=0,total=this.reviews.length;for(let value of this.reviews)1==value.rating&&r1++,2==value.rating&&r2++,3==value.rating&&r3++,4==value.rating&&r4++,5==value.rating&&r5++;this.r1=100/total*r1,0==r1&&(this.r1=0),this.r2=100/total*r2,0==r2&&(this.r2=0),this.r3=100/total*r3,0==r3&&(this.r3=0),this.r4=100/total*r4,0==r4&&(this.r4=0),this.r5=100/total*r5,0==r5&&(this.r5=0)}ngOnInit(){}}class ReviewsPageModule{}var router_ngfactory=__webpack_require__(\"pMnS\"),ionic_angular_ngfactory=__webpack_require__(\"MKJQ\"),ionic_angular=__webpack_require__(\"sZkV\"),translate_app_pipe=__webpack_require__(\"taci\"),common=__webpack_require__(\"SVse\"),router=__webpack_require__(\"iInd\"),RenderType_ReviewsPage=core.nb({encapsulation:2,styles:[['@charset \"UTF-8\";.review-page{background-color:#fff}.review-page .rating-gird h4{margin-top:0;margin-bottom:0}.review-page .rating-gird h1{font-size:30px;margin-top:0;text-align:center}.review-page .rating-gird h3{color:var(--ion-color-secondary);margin-bottom:0;text-align:center}.review-page .rating-gird ul{padding-left:15px;margin-bottom:0;border-left:1px solid #ccc}.review-page .rating-gird ul li{display:flex;align-items:center;font-size:16px;list-style:none;position:relative}.review-page .rating-gird ul li .icon{margin-left:5px}.review-page .rating-gird ul li .block{height:11px;display:inline-block;margin-left:7px;position:relative;z-index:2}.review-page .rating-gird ul li::after{content:\"\";background-color:#f4f4f4;height:11px;width:calc(100% - 36px);position:absolute;left:36px;z-index:1;top:5px}.review-page .rating-gird .button{min-height:45px}.review-page .rating-users .item{background-color:transparent;align-items:flex-start}.review-page .rating-users .item ion-avatar{margin-top:10px}.review-page .rating-users .item h2{font-weight:700}.review-page .rating-users .item .product-rating{margin-top:0;margin-bottom:0;padding-left:0}.review-page .rating-users .item .product-rating li{display:flex;align-items:center}.review-page .rating-users .item .product-rating li h6{margin-top:5px;margin-left:10px}.review-page .rating-users .item p p{margin-top:2px;white-space:normal}.review-page .product-rating{display:flex;align-items:center;justify-content:flex-start}.review-page .product-rating .stars-outer{display:inline-block;position:relative;font-size:25px}.review-page .product-rating .stars-outer::before{content:\"☆☆☆☆☆\";color:#ccc}.review-page .product-rating .stars-outer .stars-inner{font-size:25px;position:absolute;top:0;left:0;white-space:nowrap;overflow:hidden}.review-page .product-rating .stars-outer .stars-inner::before{content:\"★★★★★\";color:#f8ce0b}.review-page .product-rating h6{color:#6495ed;margin-left:15px}.review-page .animate{-webkit-animation:.75s fadeInRight;animation:.75s fadeInRight}']],data:{}});function View_ReviewsPage_1(_l){return core.Kb(0,[(_l()(),core.pb(0,0,null,null,56,\"ion-grid\",[[\"class\",\"rating-gird\"]],null,null,null,ionic_angular_ngfactory.xb,ionic_angular_ngfactory.r)),core.ob(1,49152,null,0,ionic_angular.B,[core.h,core.k,core.x],null,null),(_l()(),core.pb(2,0,null,0,6,\"ion-row\",[],null,null,null,ionic_angular_ngfactory.Sb,ionic_angular_ngfactory.M)),core.ob(3,49152,null,0,ionic_angular.hb,[core.h,core.k,core.x],null,null),(_l()(),core.pb(4,0,null,0,4,\"ion-col\",[],null,null,null,ionic_angular_ngfactory.sb,ionic_angular_ngfactory.m)),core.ob(5,49152,null,0,ionic_angular.u,[core.h,core.k,core.x],null,null),(_l()(),core.pb(6,0,null,0,2,\"h4\",[],null,null,null,null,null)),(_l()(),core.Ib(7,null,[\"\",\"\"])),core.Eb(8,1),(_l()(),core.pb(9,0,null,0,39,\"ion-row\",[[\"class\",\"ion-align-items-center\"]],null,null,null,ionic_angular_ngfactory.Sb,ionic_angular_ngfactory.M)),core.ob(10,49152,null,0,ionic_angular.hb,[core.h,core.k,core.x],null,null),(_l()(),core.pb(11,0,null,0,9,\"ion-col\",[[\"size\",\"5\"]],null,null,null,ionic_angular_ngfactory.sb,ionic_angular_ngfactory.m)),core.ob(12,49152,null,0,ionic_angular.u,[core.h,core.k,core.x],{size:[0,\"size\"]},null),(_l()(),core.pb(13,0,null,0,4,\"h1\",[],null,null,null,null,null)),(_l()(),core.Ib(14,null,[\"\",\" \"])),core.Eb(15,2),(_l()(),core.pb(16,0,null,null,1,\"ion-icon\",[[\"name\",\"star\"]],null,null,null,ionic_angular_ngfactory.zb,ionic_angular_ngfactory.t)),core.ob(17,49152,null,0,ionic_angular.D,[core.h,core.k,core.x],{name:[0,\"name\"]},null),(_l()(),core.pb(18,0,null,0,2,\"h3\",[],null,null,null,null,null)),(_l()(),core.Ib(19,null,[\"\",\" \",\"\"])),core.Eb(20,1),(_l()(),core.pb(21,0,null,0,27,\"ion-col\",[[\"size\",\"7\"]],null,null,null,ionic_angular_ngfactory.sb,ionic_angular_ngfactory.m)),core.ob(22,49152,null,0,ionic_angular.u,[core.h,core.k,core.x],{size:[0,\"size\"]},null),(_l()(),core.pb(23,0,null,0,25,\"ul\",[],null,null,null,null,null)),(_l()(),core.pb(24,0,null,null,4,\"li\",[],null,null,null,null,null)),(_l()(),core.Ib(-1,null,[\"5 \"])),(_l()(),core.pb(26,0,null,null,1,\"ion-icon\",[[\"name\",\"star\"]],null,null,null,ionic_angular_ngfactory.zb,ionic_angular_ngfactory.t)),core.ob(27,49152,null,0,ionic_angular.D,[core.h,core.k,core.x],{name:[0,\"name\"]},null),(_l()(),core.pb(28,0,null,null,0,\"span\",[[\"class\",\"block animate\"],[\"style\",\"background-color:green;\"]],[[4,\"width\",null]],null,null,null,null)),(_l()(),core.pb(29,0,null,null,4,\"li\",[],null,null,null,null,null)),(_l()(),core.Ib(-1,null,[\"4 \"])),(_l()(),core.pb(31,0,null,null,1,\"ion-icon\",[[\"name\",\"star\"]],null,null,null,ionic_angular_ngfactory.zb,ionic_angular_ngfactory.t)),core.ob(32,49152,null,0,ionic_angular.D,[core.h,core.k,core.x],{name:[0,\"name\"]},null),(_l()(),core.pb(33,0,null,null,0,\"span\",[[\"class\",\"block animate\"],[\"style\",\"background-color:lightgreen;\"]],[[4,\"width\",null]],null,null,null,null)),(_l()(),core.pb(34,0,null,null,4,\"li\",[],null,null,null,null,null)),(_l()(),core.Ib(-1,null,[\"3 \"])),(_l()(),core.pb(36,0,null,null,1,\"ion-icon\",[[\"name\",\"star\"]],null,null,null,ionic_angular_ngfactory.zb,ionic_angular_ngfactory.t)),core.ob(37,49152,null,0,ionic_angular.D,[core.h,core.k,core.x],{name:[0,\"name\"]},null),(_l()(),core.pb(38,0,null,null,0,\"span\",[[\"class\",\"block animate\"],[\"style\",\"background-color:yellow;\"]],[[4,\"width\",null]],null,null,null,null)),(_l()(),core.pb(39,0,null,null,4,\"li\",[],null,null,null,null,null)),(_l()(),core.Ib(-1,null,[\"2 \"])),(_l()(),core.pb(41,0,null,null,1,\"ion-icon\",[[\"name\",\"star\"]],null,null,null,ionic_angular_ngfactory.zb,ionic_angular_ngfactory.t)),core.ob(42,49152,null,0,ionic_angular.D,[core.h,core.k,core.x],{name:[0,\"name\"]},null),(_l()(),core.pb(43,0,null,null,0,\"span\",[[\"class\",\"block animate\"],[\"style\",\"background-color:orange;\"]],[[4,\"width\",null]],null,null,null,null)),(_l()(),core.pb(44,0,null,null,4,\"li\",[],null,null,null,null,null)),(_l()(),core.Ib(-1,null,[\"1 \"])),(_l()(),core.pb(46,0,null,null,1,\"ion-icon\",[[\"name\",\"star\"]],null,null,null,ionic_angular_ngfactory.zb,ionic_angular_ngfactory.t)),core.ob(47,49152,null,0,ionic_angular.D,[core.h,core.k,core.x],{name:[0,\"name\"]},null),(_l()(),core.pb(48,0,null,null,0,\"span\",[[\"class\",\"block animate\"],[\"style\",\"background-color:dar=darkorange;\"]],[[4,\"width\",null]],null,null,null,null)),(_l()(),core.pb(49,0,null,0,7,\"ion-row\",[],null,null,null,ionic_angular_ngfactory.Sb,ionic_angular_ngfactory.M)),core.ob(50,49152,null,0,ionic_angular.hb,[core.h,core.k,core.x],null,null),(_l()(),core.pb(51,0,null,0,5,\"ion-col\",[],null,null,null,ionic_angular_ngfactory.sb,ionic_angular_ngfactory.m)),core.ob(52,49152,null,0,ionic_angular.u,[core.h,core.k,core.x],null,null),(_l()(),core.pb(53,0,null,0,3,\"ion-button\",[[\"color\",\"danger\"],[\"expand\",\"full\"]],null,[[null,\"click\"]],(function(_v,en,$event){var ad=!0;return\"click\"===en&&(ad=!1!==_v.component.openReviewsPage()&&ad),ad}),ionic_angular_ngfactory.kb,ionic_angular_ngfactory.e)),core.ob(54,49152,null,0,ionic_angular.l,[core.h,core.k,core.x],{color:[0,\"color\"],expand:[1,\"expand\"]},null),(_l()(),core.Ib(55,0,[\"\",\" \"])),core.Eb(56,1)],(function(_ck,_v){_ck(_v,12,0,\"5\"),_ck(_v,17,0,\"star\"),_ck(_v,22,0,\"7\"),_ck(_v,27,0,\"star\"),_ck(_v,32,0,\"star\"),_ck(_v,37,0,\"star\"),_ck(_v,42,0,\"star\"),_ck(_v,47,0,\"star\"),_ck(_v,54,0,\"danger\",\"full\")}),(function(_ck,_v){var _co=_v.component,currVal_0=core.Jb(_v,7,0,_ck(_v,8,0,core.Bb(_v.parent,0),\"Ratings & Reviews\"));_ck(_v,7,0,currVal_0);var currVal_2=core.Jb(_v,14,0,_ck(_v,15,0,core.Bb(_v.parent,1),_co.average,\"1.2-2\"));_ck(_v,14,0,currVal_2);var currVal_4=_co.reviews.length,currVal_5=core.Jb(_v,19,1,_ck(_v,20,0,core.Bb(_v.parent,0),\"rating\"));_ck(_v,19,0,currVal_4,currVal_5),_ck(_v,28,0,_co.r5+\"%\"),_ck(_v,33,0,_co.r4+\"%\"),_ck(_v,38,0,_co.r3+\"%\"),_ck(_v,43,0,_co.r2+\"%\"),_ck(_v,48,0,_co.r1+\"%\");var currVal_19=core.Jb(_v,55,0,_ck(_v,56,0,core.Bb(_v.parent,0),\"Rate and write a review\"));_ck(_v,55,0,currVal_19)}))}function View_ReviewsPage_2(_l){return core.Kb(0,[(_l()(),core.pb(0,0,null,null,14,\"ion-item\",[],null,null,null,ionic_angular_ngfactory.Gb,ionic_angular_ngfactory.y)),core.ob(1,49152,null,0,ionic_angular.I,[core.h,core.k,core.x],null,null),(_l()(),core.pb(2,0,null,0,2,\"ion-avatar\",[[\"item-start\",\"\"]],null,null,null,ionic_angular_ngfactory.hb,ionic_angular_ngfactory.b)),core.ob(3,49152,null,0,ionic_angular.g,[core.h,core.k,core.x],null,null),(_l()(),core.pb(4,0,null,0,0,\"img\",[[\"src\",\"assets/avatar.png\"]],null,null,null,null,null)),(_l()(),core.pb(5,0,null,0,1,\"h2\",[],null,null,null,null,null)),(_l()(),core.Ib(6,null,[\"\",\"\"])),(_l()(),core.pb(7,0,null,0,6,\"ul\",[[\"class\",\"product-rating\"]],null,null,null,null,null)),(_l()(),core.pb(8,0,null,null,5,\"li\",[],null,null,null,null,null)),(_l()(),core.pb(9,0,null,null,1,\"div\",[[\"class\",\"stars-outer\"]],null,null,null,null,null)),(_l()(),core.pb(10,0,null,null,0,\"div\",[[\"class\",\"stars-inner\"]],[[4,\"width\",null]],null,null,null,null)),(_l()(),core.pb(11,0,null,null,2,\"h6\",[],null,null,null,null,null)),(_l()(),core.Ib(12,null,[\"\",\"\"])),core.Eb(13,2),(_l()(),core.pb(14,0,null,0,0,\"p\",[],[[8,\"innerHTML\",1]],null,null,null,null))],null,(function(_ck,_v){_ck(_v,6,0,_v.context.$implicit.name),_ck(_v,10,0,20*_v.context.$implicit.rating+\"%\");var currVal_2=core.Jb(_v,12,0,_ck(_v,13,0,core.Bb(_v.parent,2),_v.context.$implicit.date_created,\"dd-MM-yyyy\"));_ck(_v,12,0,currVal_2),_ck(_v,14,0,_v.context.$implicit.review)}))}function View_ReviewsPage_0(_l){return core.Kb(0,[core.Db(0,translate_app_pipe.a,[shared_data_service.a]),core.Db(0,common.e,[core.s]),core.Db(0,common.d,[core.s]),(_l()(),core.pb(3,0,null,null,12,\"ion-header\",[],null,null,null,ionic_angular_ngfactory.yb,ionic_angular_ngfactory.s)),core.ob(4,49152,null,0,ionic_angular.C,[core.h,core.k,core.x],null,null),(_l()(),core.pb(5,0,null,0,10,\"ion-toolbar\",[],null,null,null,ionic_angular_ngfactory.lc,ionic_angular_ngfactory.fb)),core.ob(6,49152,null,0,ionic_angular.Ab,[core.h,core.k,core.x],null,null),(_l()(),core.pb(7,0,null,0,4,\"ion-buttons\",[[\"slot\",\"start\"]],null,null,null,ionic_angular_ngfactory.lb,ionic_angular_ngfactory.f)),core.ob(8,49152,null,0,ionic_angular.m,[core.h,core.k,core.x],null,null),(_l()(),core.pb(9,0,null,0,2,\"ion-back-button\",[[\"icon\",\"arrow-back\"]],null,[[null,\"click\"]],(function(_v,en,$event){var ad=!0;return\"click\"===en&&(ad=!1!==core.Bb(_v,11).onClick($event)&&ad),ad}),ionic_angular_ngfactory.ib,ionic_angular_ngfactory.c)),core.ob(10,49152,null,0,ionic_angular.h,[core.h,core.k,core.x],{icon:[0,\"icon\"]},null),core.ob(11,16384,null,0,ionic_angular.i,[[2,ionic_angular.gb],ionic_angular.Hb,ionic_angular.e],null,null),(_l()(),core.pb(12,0,null,0,3,\"ion-title\",[],null,null,null,ionic_angular_ngfactory.jc,ionic_angular_ngfactory.db)),core.ob(13,49152,null,0,ionic_angular.yb,[core.h,core.k,core.x],null,null),(_l()(),core.Ib(14,0,[\"\",\"\"])),core.Eb(15,1),(_l()(),core.pb(16,0,null,null,7,\"ion-content\",[[\"class\",\"review-page\"]],null,null,null,ionic_angular_ngfactory.tb,ionic_angular_ngfactory.n)),core.ob(17,49152,null,0,ionic_angular.v,[core.h,core.k,core.x],null,null),(_l()(),core.eb(16777216,null,0,1,null,View_ReviewsPage_1)),core.ob(19,16384,null,0,common.k,[core.M,core.J],{ngIf:[0,\"ngIf\"]},null),(_l()(),core.pb(20,0,null,0,3,\"ion-list\",[[\"class\",\"rating-users\"]],null,null,null,ionic_angular_ngfactory.Jb,ionic_angular_ngfactory.C)),core.ob(21,49152,null,0,ionic_angular.P,[core.h,core.k,core.x],null,null),(_l()(),core.eb(16777216,null,0,1,null,View_ReviewsPage_2)),core.ob(23,278528,null,0,common.j,[core.M,core.J,core.q],{ngForOf:[0,\"ngForOf\"]},null)],(function(_ck,_v){var _co=_v.component;_ck(_v,10,0,\"arrow-back\"),_ck(_v,19,0,null!=_co.r5),_ck(_v,23,0,_co.reviews)}),(function(_ck,_v){var currVal_1=core.Jb(_v,14,0,_ck(_v,15,0,core.Bb(_v,0),\"Reviews\"));_ck(_v,14,0,currVal_1)}))}function View_ReviewsPage_Host_0(_l){return core.Kb(0,[(_l()(),core.pb(0,0,null,null,1,\"app-reviews\",[],null,null,null,View_ReviewsPage_0,RenderType_ReviewsPage)),core.ob(1,114688,null,0,reviews_page_ReviewsPage,[ionic_angular.Hb,router.a,core.g,config_service.a,ionic_angular.Gb,loading_service.a,shared_data_service.a],null,null)],(function(_ck,_v){_ck(_v,1,0)}),null)}var ReviewsPageNgFactory=core.lb(\"app-reviews\",reviews_page_ReviewsPage,View_ReviewsPage_Host_0,{},{},[]),fesm2015_forms=__webpack_require__(\"s7LF\"),pipes_module=__webpack_require__(\"wWlB\");__webpack_require__.d(__webpack_exports__,\"ReviewsPageModuleNgFactory\",(function(){return ReviewsPageModuleNgFactory}));var ReviewsPageModuleNgFactory=core.mb(ReviewsPageModule,[],(function(_l){return core.yb([core.zb(512,core.j,core.X,[[8,[router_ngfactory.a,ReviewsPageNgFactory]],[3,core.j],core.v]),core.zb(4608,common.m,common.l,[core.s,[2,common.v]]),core.zb(4608,fesm2015_forms.m,fesm2015_forms.m,[]),core.zb(4608,ionic_angular.c,ionic_angular.c,[core.x,core.g]),core.zb(4608,ionic_angular.Gb,ionic_angular.Gb,[ionic_angular.c,core.j,core.p]),core.zb(4608,ionic_angular.Kb,ionic_angular.Kb,[ionic_angular.c,core.j,core.p]),core.zb(1073742336,common.b,common.b,[]),core.zb(1073742336,fesm2015_forms.l,fesm2015_forms.l,[]),core.zb(1073742336,fesm2015_forms.c,fesm2015_forms.c,[]),core.zb(1073742336,ionic_angular.Cb,ionic_angular.Cb,[]),core.zb(1073742336,router.o,router.o,[[2,router.t],[2,router.m]]),core.zb(1073742336,pipes_module.a,pipes_module.a,[]),core.zb(1073742336,ReviewsPageModule,ReviewsPageModule,[]),core.zb(1024,router.k,(function(){return[[{path:\"\",component:reviews_page_ReviewsPage}]]}),[])])}))}}]);","extractedComments":[]}