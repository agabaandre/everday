(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"4/Id":function(n,l,o){"use strict";o.r(l);var t=o("8Y7J"),i=o("mrSG"),u=o("KTio"),e=o("sf9b"),c=o("UmVP"),b=o("OMjV"),r=o("sMtR");class a{constructor(n,l,o,t,i,u,e,c){this.navCtrl=n,this.shared=l,this.config=o,this.http=t,this.loading=i,this.applicationRef=u,this.popoverCtrl=e,this.appEventsService=c,this.page=1,this.notifications=new Array,this.httpRunning=!0,this.httpRunning=!0,this.getNotifications();let b=this.appEventsService.subscribe("cardScratched");b.subscriptions.add(b.event.subscribe(n=>{this.updateList(n)}))}getNotifications(){this.httpRunning=!0,this.loading.show(),this.http.get(this.config.url+"/api/appusers/ionic_coupon_notification/?insecure=cool&user_id="+this.shared.customerData.id).subscribe(n=>{this.httpRunning=!1,this.loading.hide();let l=n.data;if(1==this.page&&(this.notifications=new Array),0!=l.length){this.page++;for(let n of l)this.notifications.push(n)}this.infinite.disabled=!0,0==l.length&&(this.infinite.disabled=!0),this.applicationRef.tick(),console.log(l)})}openScratchCard(n){return i.__awaiter(this,void 0,void 0,(function*(){const l=yield this.popoverCtrl.create({component:b.a,event,componentProps:{data:n}});return yield l.present()}))}refreshPage(){this.page=1,this.getNotifications()}openShop(){this.navCtrl.navigateForward("tabs/"+this.config.getCurrentHomePage())}ionViewDidLoad(){}updateList(n){for(let l of this.notifications)l.id==n.id&&(l.is_view=1,this.shared.toast("Congratulations you Get "+l.message+" use this code : "+l.code),this.http.get(this.config.url+"/api/appusers/ionic_notification_update/?insecure=cool&notification_id="+l.id).subscribe(n=>{console.log(n)}))}ngOnInit(){}}class s{}var p=o("pMnS"),h=o("MKJQ"),g=o("sZkV"),f=o("SVse"),d=o("taci"),m=o("IheW"),k=t.nb({encapsulation:0,styles:[["ion-content[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]{margin-top:50%}ion-content[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{text-align:center}ion-content[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{zoom:3.9;color:#d3d3d3}ion-content[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--background:var(--ion-color-primary);--border-radius:0px;height:30px}ion-content[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:16px;font-weight:700;margin-top:2px}ion-content[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:14px;color:gray;margin-top:0}.note[_ngcontent-%COMP%]{color:red;width:80px;text-align:center}ion-list[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-list[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-secondary)}.pop[_ngcontent-%COMP%]{width:100%;height:100%}.popover-md[_ngcontent-%COMP%]   .popover-content[_ngcontent-%COMP%]{width:400px!important;height:100px}"]],data:{}});function x(n){return t.Kb(0,[(n()(),t.pb(0,0,null,null,3,"ion-menu-button",[["slot","start"]],null,null,null,h.Kb,h.F)),t.ob(1,49152,null,0,g.S,[t.h,t.k,t.x],null,null),(n()(),t.pb(2,0,null,0,1,"ion-icon",[["name","menu"]],null,null,null,h.zb,h.t)),t.ob(3,49152,null,0,g.D,[t.h,t.k,t.x],{name:[0,"name"]},null)],(function(n,l){n(l,3,0,"menu")}),null)}function C(n){return t.Kb(0,[(n()(),t.pb(0,0,null,null,29,"ion-grid",[["class","ion-no-padding"]],null,null,null,h.xb,h.r)),t.ob(1,49152,null,0,g.B,[t.h,t.k,t.x],null,null),(n()(),t.pb(2,0,null,0,5,"ion-row",[["class","ion-no-padding"]],null,null,null,h.Sb,h.M)),t.ob(3,49152,null,0,g.hb,[t.h,t.k,t.x],null,null),(n()(),t.pb(4,0,null,0,3,"ion-col",[["class","ion-no-padding"],["size","12"]],null,null,null,h.sb,h.m)),t.ob(5,49152,null,0,g.u,[t.h,t.k,t.x],{size:[0,"size"]},null),(n()(),t.pb(6,0,null,0,1,"ion-icon",[["name","notifications"]],null,null,null,h.zb,h.t)),t.ob(7,49152,null,0,g.D,[t.h,t.k,t.x],{name:[0,"name"]},null),(n()(),t.pb(8,0,null,0,6,"ion-row",[["class","ion-no-padding"]],null,null,null,h.Sb,h.M)),t.ob(9,49152,null,0,g.hb,[t.h,t.k,t.x],null,null),(n()(),t.pb(10,0,null,0,4,"ion-col",[["class","ion-no-padding"],["size","12"]],null,null,null,h.sb,h.m)),t.ob(11,49152,null,0,g.u,[t.h,t.k,t.x],{size:[0,"size"]},null),(n()(),t.pb(12,0,null,0,2,"h4",[],null,null,null,null,null)),(n()(),t.Ib(13,null,["",""])),t.Eb(14,1),(n()(),t.pb(15,0,null,0,6,"ion-row",[["class","ion-no-padding"]],null,null,null,h.Sb,h.M)),t.ob(16,49152,null,0,g.hb,[t.h,t.k,t.x],null,null),(n()(),t.pb(17,0,null,0,4,"ion-col",[["class","ion-no-padding"],["size","12"]],null,null,null,h.sb,h.m)),t.ob(18,49152,null,0,g.u,[t.h,t.k,t.x],{size:[0,"size"]},null),(n()(),t.pb(19,0,null,0,2,"h5",[],null,null,null,null,null)),(n()(),t.Ib(20,null,["",""])),t.Eb(21,1),(n()(),t.pb(22,0,null,0,7,"ion-row",[["class","ion-no-padding"]],null,null,null,h.Sb,h.M)),t.ob(23,49152,null,0,g.hb,[t.h,t.k,t.x],null,null),(n()(),t.pb(24,0,null,0,5,"ion-col",[["class","ion-no-padding"],["size","12"]],null,null,null,h.sb,h.m)),t.ob(25,49152,null,0,g.u,[t.h,t.k,t.x],{size:[0,"size"]},null),(n()(),t.pb(26,0,null,0,3,"ion-button",[["color","secondary"]],null,[[null,"click"]],(function(n,l,o){var t=!0;return"click"===l&&(t=!1!==n.component.openShop()&&t),t}),h.kb,h.e)),t.ob(27,49152,null,0,g.l,[t.h,t.k,t.x],{color:[0,"color"]},null),(n()(),t.Ib(28,0,["",""])),t.Eb(29,1)],(function(n,l){n(l,5,0,"12"),n(l,7,0,"notifications"),n(l,11,0,"12"),n(l,18,0,"12"),n(l,25,0,"12"),n(l,27,0,"secondary")}),(function(n,l){var o=t.Jb(l,13,0,n(l,14,0,t.Bb(l.parent,0),"Your Scratch Cards Coupon List is Empty"));n(l,13,0,o);var i=t.Jb(l,20,0,n(l,21,0,t.Bb(l.parent,0),"continue shopping"));n(l,20,0,i);var u=t.Jb(l,28,0,n(l,29,0,t.Bb(l.parent,0),"Explore"));n(l,28,0,u)}))}function M(n){return t.Kb(0,[(n()(),t.pb(0,0,null,null,3,"ion-button",[["color","secondary"],["ion-button",""]],null,[[null,"click"]],(function(n,l,o){var t=!0;return"click"===l&&(t=!1!==n.component.openScratchCard(n.parent.parent.context.$implicit)&&t),t}),h.kb,h.e)),t.ob(1,49152,null,0,g.l,[t.h,t.k,t.x],{color:[0,"color"]},null),(n()(),t.Ib(2,0,[" "," "])),t.Eb(3,1)],(function(n,l){n(l,1,0,"secondary")}),(function(n,l){var o=t.Jb(l,2,0,n(l,3,0,t.Bb(l.parent.parent.parent.parent,0),"Open Scratch Card"));n(l,2,0,o)}))}function _(n){return t.Kb(0,[(n()(),t.pb(0,0,null,null,2,"h2",[],null,null,null,null,null)),(n()(),t.Ib(1,null,["",": ",""])),t.Eb(2,1)],null,(function(n,l){var o=t.Jb(l,1,0,n(l,2,0,t.Bb(l.parent.parent.parent.parent,0),"Code"));n(l,1,0,o,l.parent.parent.context.$implicit.code)}))}function v(n){return t.Kb(0,[(n()(),t.pb(0,0,null,null,1,"h3",[],null,null,null,null,null)),(n()(),t.Ib(1,null,["",""]))],null,(function(n,l){n(l,1,0,l.parent.parent.context.$implicit.message)}))}function P(n){return t.Kb(0,[(n()(),t.pb(0,0,null,null,17,"ion-item",[],null,null,null,h.Gb,h.y)),t.ob(1,49152,null,0,g.I,[t.h,t.k,t.x],null,null),(n()(),t.pb(2,0,null,0,1,"ion-icon",[["name","notifications"],["slot","start"]],null,null,null,h.zb,h.t)),t.ob(3,49152,null,0,g.D,[t.h,t.k,t.x],{name:[0,"name"]},null),(n()(),t.eb(16777216,null,0,1,null,M)),t.ob(5,16384,null,0,f.k,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(n()(),t.pb(6,0,null,0,5,"ion-label",[],null,null,null,h.Hb,h.B)),t.ob(7,49152,null,0,g.O,[t.h,t.k,t.x],null,null),(n()(),t.eb(16777216,null,0,1,null,_)),t.ob(9,16384,null,0,f.k,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(n()(),t.eb(16777216,null,0,1,null,v)),t.ob(11,16384,null,0,f.k,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(n()(),t.pb(12,0,null,0,5,"ion-note",[["class","note"],["slot","end"]],null,null,null,h.Mb,h.G)),t.ob(13,49152,null,0,g.W,[t.h,t.k,t.x],null,null),(n()(),t.Ib(14,0,[""," "])),t.Eb(15,1),(n()(),t.pb(16,0,null,0,1,"small",[],null,null,null,null,null)),(n()(),t.Ib(17,null,["",""]))],(function(n,l){n(l,3,0,"notifications"),n(l,5,0,0==l.parent.context.$implicit.is_view),n(l,9,0,1==l.parent.context.$implicit.is_view),n(l,11,0,1==l.parent.context.$implicit.is_view)}),(function(n,l){var o=t.Jb(l,14,0,n(l,15,0,t.Bb(l.parent.parent.parent,0),"Expiry Date"));n(l,14,0,o),n(l,17,0,l.parent.context.$implicit.expire_date)}))}function O(n){return t.Kb(0,[(n()(),t.pb(0,0,null,null,2,"div",[],null,null,null,null,null)),(n()(),t.eb(16777216,null,null,1,null,P)),t.ob(2,16384,null,0,f.k,[t.M,t.J],{ngIf:[0,"ngIf"]},null)],(function(n,l){n(l,2,0,"1"==l.context.$implicit.type)}),null)}function w(n){return t.Kb(0,[(n()(),t.pb(0,0,null,null,3,"ion-list",[],null,null,null,h.Jb,h.C)),t.ob(1,49152,null,0,g.P,[t.h,t.k,t.x],null,null),(n()(),t.eb(16777216,null,0,1,null,O)),t.ob(3,278528,null,0,f.j,[t.M,t.J,t.q],{ngForOf:[0,"ngForOf"]},null)],(function(n,l){n(l,3,0,l.component.notifications)}),null)}function z(n){return t.Kb(0,[t.Db(0,d.a,[c.a]),t.Gb(671088640,1,{infinite:0}),(n()(),t.pb(2,0,null,null,20,"ion-header",[],null,null,null,h.yb,h.s)),t.ob(3,49152,null,0,g.C,[t.h,t.k,t.x],null,null),(n()(),t.pb(4,0,null,0,18,"ion-toolbar",[],null,null,null,h.lc,h.fb)),t.ob(5,49152,null,0,g.Ab,[t.h,t.k,t.x],null,null),(n()(),t.eb(16777216,null,0,1,null,x)),t.ob(7,16384,null,0,f.k,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(n()(),t.pb(8,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,h.lb,h.f)),t.ob(9,49152,null,0,g.m,[t.h,t.k,t.x],null,null),(n()(),t.pb(10,0,null,0,2,"ion-back-button",[["icon","arrow-back"]],null,[[null,"click"]],(function(n,l,o){var i=!0;return"click"===l&&(i=!1!==t.Bb(n,12).onClick(o)&&i),i}),h.ib,h.c)),t.ob(11,49152,null,0,g.h,[t.h,t.k,t.x],{icon:[0,"icon"]},null),t.ob(12,16384,null,0,g.i,[[2,g.gb],g.Hb,g.e],null,null),(n()(),t.pb(13,0,null,0,3,"ion-title",[],null,null,null,h.jc,h.db)),t.ob(14,49152,null,0,g.yb,[t.h,t.k,t.x],null,null),(n()(),t.Ib(15,0,[" "," "])),t.Eb(16,1),(n()(),t.pb(17,0,null,0,5,"ion-buttons",[["slot","end"]],null,null,null,h.lb,h.f)),t.ob(18,49152,null,0,g.m,[t.h,t.k,t.x],null,null),(n()(),t.pb(19,0,null,0,3,"ion-button",[["fill","clear"]],null,[[null,"click"]],(function(n,l,o){var t=!0;return"click"===l&&(t=!1!==n.component.refreshPage()&&t),t}),h.kb,h.e)),t.ob(20,49152,null,0,g.l,[t.h,t.k,t.x],{fill:[0,"fill"]},null),(n()(),t.pb(21,0,null,0,1,"ion-icon",[["name","refresh"]],null,null,null,h.zb,h.t)),t.ob(22,49152,null,0,g.D,[t.h,t.k,t.x],{name:[0,"name"]},null),(n()(),t.pb(23,0,null,null,9,"ion-content",[],null,null,null,h.tb,h.n)),t.ob(24,49152,null,0,g.v,[t.h,t.k,t.x],null,null),(n()(),t.eb(16777216,null,0,1,null,C)),t.ob(26,16384,null,0,f.k,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(n()(),t.eb(16777216,null,0,1,null,w)),t.ob(28,16384,null,0,f.k,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(n()(),t.pb(29,0,null,0,3,"ion-infinite-scroll",[],null,[[null,"ionInfinite"]],(function(n,l,o){var t=!0;return"ionInfinite"===l&&(t=!1!==n.component.getNotifications()&&t),t}),h.Cb,h.v)),t.ob(30,49152,[[1,4],["infinite",4]],0,g.F,[t.h,t.k,t.x],null,null),(n()(),t.pb(31,0,null,0,1,"ion-infinite-scroll-content",[],null,null,null,h.Bb,h.w)),t.ob(32,49152,null,0,g.G,[t.h,t.k,t.x],null,null)],(function(n,l){var o=l.component;n(l,7,0,!o.config.appNavigationTabs),n(l,11,0,"arrow-back"),n(l,20,0,"clear"),n(l,22,0,"refresh"),n(l,26,0,0==o.notifications.length&&0==o.httpRunning),n(l,28,0,0!=o.notifications.length)}),(function(n,l){var o=t.Jb(l,15,0,n(l,16,0,t.Bb(l,0),"Scratch Card"));n(l,15,0,o)}))}function I(n){return t.Kb(0,[(n()(),t.pb(0,0,null,null,1,"app-notifications",[],null,null,null,z,k)),t.ob(1,114688,null,0,a,[g.Hb,c.a,e.a,m.c,u.a,t.g,g.Kb,r.a],null,null)],(function(n,l){n(l,1,0)}),null)}var y=t.lb("app-notifications",a,I,{},{},[]),J=o("s7LF"),S=o("iInd"),K=o("wWlB");o.d(l,"NotificationsPageModuleNgFactory",(function(){return B}));var B=t.mb(s,[],(function(n){return t.yb([t.zb(512,t.j,t.X,[[8,[p.a,y]],[3,t.j],t.v]),t.zb(4608,f.m,f.l,[t.s,[2,f.v]]),t.zb(4608,J.m,J.m,[]),t.zb(4608,g.c,g.c,[t.x,t.g]),t.zb(4608,g.Gb,g.Gb,[g.c,t.j,t.p]),t.zb(4608,g.Kb,g.Kb,[g.c,t.j,t.p]),t.zb(1073742336,f.b,f.b,[]),t.zb(1073742336,J.l,J.l,[]),t.zb(1073742336,J.c,J.c,[]),t.zb(1073742336,g.Cb,g.Cb,[]),t.zb(1073742336,S.o,S.o,[[2,S.t],[2,S.m]]),t.zb(1073742336,K.a,K.a,[]),t.zb(1073742336,s,s,[]),t.zb(1024,S.k,(function(){return[[{path:"",component:a}]]}),[])])}))}}]);